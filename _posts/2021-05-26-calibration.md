---
title: Калібрування датчиків
date: 2021-05-26 16:00:00 +03:00
---

Нарешті, у мене дійшли руки перевірити та відкалібрувати всі датчики.

Для калібрування датчиків я взяв маленький LCD-дисплей розміром 16×02 з надзвичайно поширеним контролером HD44780 і написав простий скетч, що [показує на дисплеї поточне значення з АЦП][1].

Чому я вирішив використати екран, а не просто передати по USB за допомогою `Serial.print()`? Та просто так. Можливо, бо не схотів тягнути ноутбук на кухню.

Схема підключення досить проста.

<img src="schema.png" style="width: 100%; max-width: 100%" alt="Схема">

В реальності все виглядає не так акуратно. 

{% include photo.html img="162011" %}

Крім плати з Arduino, я ще трохи використовував звичайний мультиметр DT-832 для «безпосередніх» вимірювань. Але, в першу чергу, я перевіряв роботу датчиків саме с Arduino.

Методика калібрування теж проста: вимірювання показників у повітрі та у воді.

{% include photo.html img="193645" -%}
{% include photo.html img="204955" %}

Виявилося, що датчики можна віднести до двох груп, починаючи з їх зовнішнього вигляду: в них використовується однаковий шрифт, але різної товщини.

Це явно різні партії. Різний діапазон значень та різна швидкодія.


Результати калібрування
-----------------------

Врешті-решт, всі мої зусилля можна звести до невеличкої таблиці.

Nr | Min | Max | Швидкість | Шрифт  | Коментар
-- | --- | --- | --------- | ------ | --------
01 | 490 | 865 | повільний | тонкий |
02 | 499 | 854 | повільний | тонкий | A2v1 
03 | 221 | 521 | швидкий   | жирний | A1
04 | 231 | 522 | швидкий   | жирний | A2v2
05 | 482 | 838 | повільний | тонкий |
06 | 244 | 578 | швидкий   | жирний |
07 | 513 | 856 | повільний | тонкий |

Найближчим часом я хочу повернути датчики 03 та 04 на їх місце у горщиках і, після всіх перевірок, підключити їх ще раз.

Чому ж Arduino показував з цими датчиками якусь хрінь? Ймовірно, проблема у поганих контактах. Я використовую роз'єми Dupont, але у мене немає «обжимки», тому я якось обходжуся тоненькими плоскогубцями і результат виходить не дуже.

Мабудь, мені потрібна справжня «обжимка», хоча б SN-28B.

[1]: https://github.com/kastaneda/arduino_sandbox/blob/master/sketch_may26a_analogRead_to_LCD/sketch_may26a_analogRead_to_LCD.ino
